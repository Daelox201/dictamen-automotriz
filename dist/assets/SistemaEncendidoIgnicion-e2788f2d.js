import{r as g,M as h,a as C,F as I}from"./index-39e09190.js";import{C as D}from"./ContainerForm-777b056e.js";const S=[{routeSection:"sistemasMotor",nameSection:"Sistemas Alternos de Motor",nameForm:"Sistema de Encendido o Ignicion",nextSection:"Sistema de Inyección de Combustible",prevSection:"Sistema de Enfriamento",nextRoute:"sistemaInyeccionCombustible",prevRoute:"sistemaEnfriamento"}],u=[{name:"",inputs:[{label:"Interruptor de Encendido (Switch)",nameElement:"interruptorEncendido"},{label:"Distribuidor",nameElement:"distribuido"},{label:"Cables Bujias (Circuito Secundario)",nameElement:"cablesBujias"},{label:"Cables Alimentación (Circuito Primario)",nameElement:"cablesAlimentacionn"},{label:"Cableados y Conectores",nameElement:"cableadosConectores"},{label:"ConexionesEE",nameElement:"conexionesEE"},{label:"Bobinas",nameElement:"bobinas"},{label:"Modulos",nameElement:"modulos"},{label:"Soportes",nameElement:"soportes"},{label:"Sujeciones",nameElement:"sujeciones"}]},{name:"Con Control Electroico",inputs:[{label:"Modulo DIS",nameElement:"moduloDis"},{label:"Bobinas Independientes",nameElement:"bobinasIndependientes"}]}],y=()=>{const[_,m]=g.useState({select_interruptorEncendido:"",select_distribuido:"",select_cablesBujias:"",select_cablesAlimentacionn:"",select_cableadosConectores:"",select_conexionesEE:"",select_bobinas:"",select_sujeciones:"",select_moduloDis:"",select_modulos:"",select_bobinasIndependientes:"",select_soportes:"",au_interruptorEncendido:0,or_interruptorEncendido:0,rt_interruptorEncendido:0,rc_interruptorEncendido:0,ev_interruptorEncendido:0,observaciones_interruptorEncendido:"",au_distribuido:0,or_distribuido:0,rt_distribuido:0,rc_distribuido:0,ev_distribuido:0,observaciones_distribuido:"",au_cablesBujias:0,or_cablesBujias:0,rt_cablesBujias:0,rc_cablesBujias:0,ev_cablesBujias:0,observaciones_cablesBujias:"",au_cablesAlimentacionn:0,or_cablesAlimentacionn:0,rt_cablesAlimentacionn:0,rc_cablesAlimentacionn:0,ev_cablesAlimentacionn:0,observaciones_cablesAlimentacionn:"",au_cableadosConectores:0,or_cableadosConectores:0,rt_cableadosConectores:0,rc_cableadosConectores:0,ev_cableadosConectores:0,observaciones_cableadosConectores:"",au_conexionesEE:0,or_conexionesEE:0,rt_conexionesEE:0,rc_conexionesEE:0,ev_conexionesEE:0,observaciones_conexionesEE:"",au_bobinas:0,or_bobinas:0,rt_bobinas:0,rc_bobinas:0,ev_bobinas:0,observaciones_bobinas:"",au_sujeciones:0,or_sujeciones:0,rt_sujeciones:0,rc_sujeciones:0,ev_sujeciones:0,observaciones_sujeciones:"",au_moduloDis:0,or_moduloDis:0,rt_moduloDis:0,rc_moduloDis:0,ev_moduloDis:0,observaciones_moduloDis:"",au_modulos:0,or_modulos:0,rt_modulos:0,rc_modulos:0,ev_modulos:0,observaciones_modulos:0,au_bobinasIndependientes:0,or_bobinasIndependientes:0,rt_bobinasIndependientes:0,rc_bobinasIndependientes:0,ev_bobinasIndependientes:0,observaciones_bobinasIndependientes:"",au_soportes:0,or_soportes:0,rt_soportes:0,rc_soportes:0,ev_soportes:0,observaciones_soportes:""}),[E,f]=g.useState({}),{dataDictamen:$}=g.useContext(h);return g.useEffect(()=>{$&&$.sistemas_motor&&$.sistemas_motor.sistema_encendido_ignicion&&m({..._,...$.sistemas_motor.sistema_encendido_ignicion})},[]),C(D,{data:S,handleForm:n=>{n.preventDefault();const o=I.getInstance();o.setData(_),o.guardarSistemaEncendidoIgnicion()},inputs:u,dataForm:_,handleInput:n=>{let o;if(n.target.localName=="ion-select")return;let s,a;if(n.target.localName!="ion-input"){let i=E[n.target.name],d=n.target.name.split("_")[1];if(!n.target.value){if(s=i.split("_")[1],a=i.split("_")[2],o=u[a].inputs.length,a>0){o=0;for(let c=0;c<=a;c++)o+=u[c].inputs.length}let t={..._};if(t={...t,[i]:t[i]-1||0,[`select_${d}`]:"",[`res_${s}_${a}`]:parseInt((t[i]-1||0)*100/o)},a==0){let c=u.length;for(let v=1;v<c;v++)o+=u[v].inputs.length,t={...t,[`sum_${s}_${v}`]:t[i]||0,[`res_${s}_${v}`]:Math.round((t[i]||0)*100/o)};m(t);return}m(t);return}let l=n.target.value.split("-")[0],b=n.target.value.split("-")[1],e=l.split("_")[1],r=b.split("_")[1];if(a=l.split("_")[2],o=u[a].inputs.length,f({...E,[n.target.name]:l}),_[i]>0){if(s=i.split("_")[1],a>0){o=0;for(let c=0;c<=a;c++)o+=u[c].inputs.length}let t={..._};if(_[`sum_${e}_0`]&&s==e){t={...t,[`sum_${e}_${a}`]:t[l]+1||1,[b]:n.target.value,[`au_${r}`]:0,[`or_${r}`]:0,[`rt_${r}`]:0,[`rc_${r}`]:0,[`${e}_${r}`]:1,[`res_${e}_${a}`]:Math.round((t[l]+1||1)*100/o)},m(t);return}t={...t,[l]:t[l]+1||1,[i]:t[i]-1||0,[b]:n.target.value,[`au_${r}`]:0,[`or_${r}`]:0,[`rt_${r}`]:0,[`rc_${r}`]:0,[`${e}_${r}`]:1,[`res_${e}_${a}`]:Math.round((t[l]+1||1)*100/o),[`res_${s}_${a}`]:Math.round((t[i]-1||0)*100/o)},m(t);return}if(a>0){o=0;for(let t=0;t<=a;t++)o+=u[t].inputs.length}let p={..._};if(p={...p,[`sum_${e}_${a}`]:p[l]+1||1,[b]:n.target.value,[`au_${r}`]:0,[`or_${r}`]:0,[`rt_${r}`]:0,[`rc_${r}`]:0,[`${e}_${r}`]:1,[`res_${e}_${a}`]:Math.round((p[l]+1||1)*100/o)},a==0){let t=u.length;console.log(o);for(let c=1;c<t;c++)o+=u[c].inputs.length,p={...p,[`sum_${e}_${c}`]:p[[`sum_${e}_${c}`]]+1||1,[`res_${e}_${c}`]:Math.round((p[[`sum_${e}_${c}`]]+1||1)*100/o)};m(p);return}m(p)}else m({..._,[n.target.name]:n.target.value})},handleInputSelect:n=>{console.clear();let o=n.target.name.split("_")[n.target.name.split("_").length-1],s=n.target.name.split("_")[n.target.name.split("_").length-2],a=n.target.name.split("_")[n.target.name.split("_").length-3],i=[],d=0,l=u[s].inputs.length;_[`ev_${s}`]?(i.push(..._[`ev_${s}`]),i[o]=n.target.value,m({..._,[`ev_${s}`]:i})):(m({..._,[`ev_${s}`]:[n.target.value]}),i[o]=n.target.value);for(let e=0;e<i.length;e++)i[e]||(i[e]="0");if(i.map(e=>{d+=parseInt(e)||0}),s>0){l=0;for(let e=0;e<=s;e++)l+=u[e].inputs.length}if(_.sum_ev_0&&s==1){console.warn("Exist"),d+=_.sum_ev_0;let e={..._};console.log(l*4),e={...e,[`ev_${s}`]:i,[`ev_${a}`]:n.target.value,[`sum_ev_${s}`]:d,[`res_ev_${s}`]:Math.round(d*100/(l*4))},m(e);return}let b={..._};if(b={...b,[`ev_${s}`]:i,[`ev_${a}`]:n.target.value,[`sum_ev_${s}`]:d,[`res_ev_${s}`]:Math.round(d*100/(l*4))},s==0){let e=u.length;for(let r=1;r<e;r++)l+=u[r].inputs.length,console.log(d),b={...b,[`ev_${a}`]:n.target.value,[`sum_ev_${r}`]:d,[`res_ev_${r}`]:Math.round(d*100/(l*4))};m(b);return}m(b)}})};export{y as default};
