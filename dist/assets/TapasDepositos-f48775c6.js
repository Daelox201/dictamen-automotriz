import{r as b,M as h,a as A,F}from"./index-39e09190.js";import{C as E}from"./ContainerForm-777b056e.js";const M=[{routeSection:"generalesMotor",nameSection:"Generales Motor",nameForm:"Tapas y Depositos",nextSection:"Sujeciones",prevSection:"Filtros",nextRoute:"sujeciones",prevRoute:"filtros"}],u=[{name:"",inputs:[{label:"Tapa Punterías",nameElement:"tapaPunteria"},{label:"Tapa Distribución",nameElement:"tapaDistribucion"},{label:"Deposito de Aceite (Carter)",nameElement:"depositoAceite"},{label:"Deposito de Anticongelante",nameElement:"depositoAnticongelante"},{label:"Deposito de Agua Lipiaparabrisas",nameElement:"depositoAguaLimpiaparabrisas"},{label:"Otros Depositos",nameElement:"otrosDepositos"},{label:"Soportes",nameElement:"soportes"},{label:"Sujeciones",nameElement:"sujeciones"},{label:"Otros",nameElement:"otros"}]}],L=()=>{const[_,c]=b.useState({select_tapaPunteria:"",select_tapaDistribucion:"",select_depositoAceite:"",select_depositoAnticongelante:"",select_depositoAguaLimpiaparabrisas:"",select_otrosDepositos:"",select_soportes:"",select_sujeciones:"",select_otros:"",au_tapaPunteria:0,or_tapaPunteria:0,rt_tapaPunteria:0,rc_tapaPunteria:0,ev_tapaPunteria:0,observaciones_tapaPunteria:"",au_tapaDistribucion:0,or_tapaDistribucion:0,rt_tapaDistribucion:0,rc_tapaDistribucion:0,ev_tapaDistribucion:0,observaciones_tapaDistribucion:"",au_depositoAceite:0,or_depositoAceite:0,rt_depositoAceite:0,rc_depositoAceite:0,ev_depositoAceite:0,observaciones_depositoAceite:"",au_depositoAnticongelante:0,or_depositoAnticongelante:0,rt_depositoAnticongelante:0,rc_depositoAnticongelante:0,ev_depositoAnticongelante:0,observacobservaciones_depositoAnticongelanteiones:"",au_depositoAguaLimpiaparabrisas:0,or_depositoAguaLimpiaparabrisas:0,rt_depositoAguaLimpiaparabrisas:0,rc_depositoAguaLimpiaparabrisas:0,ev_depositoAguaLimpiaparabrisas:0,observaciones_depositoAguaLimpiaparabrisas:"",au_otrosDepositos:0,or_otrosDepositos:0,rt_otrosDepositos:0,rc_otrosDepositos:0,ev_otrosDepositos:0,observaciones_otrosDepositos:0,au_soportes:0,or_soportes:0,rt_soportes:0,rc_soportes:0,ev_soportes:0,observaciones_soportes:"",au_sujeciones:0,or_sujeciones:0,rt_sujeciones:0,rc_sujeciones:0,ev_sujeciones:0,observaciones_sujeciones:"",au_otros:0,or_otros:0,rt_otros:0,rc_otros:0,ev_otros:0,observaciones_otros:""}),[D,f]=b.useState({}),{dataDictamen:v}=b.useContext(h);return b.useEffect(()=>{v&&v.generales_motor&&v.generales_motor.motores_tapas_depositos&&c({..._,...v.generales_motor.motores_tapas_depositos})},[]),A(E,{data:M,handleForm:o=>{o.preventDefault();const a=F.getInstance();a.setData(_),a.guardarMotorTapasDepositos()},inputs:u,dataForm:_,handleInput:o=>{let a;if(o.target.localName=="ion-select")return;let s,r;if(o.target.localName!="ion-input"){let i=D[o.target.name],m=o.target.name.split("_")[1];if(!o.target.value){if(s=i.split("_")[1],r=i.split("_")[2],a=u[r].inputs.length,r>0){a=0;for(let p=0;p<=r;p++)a+=u[p].inputs.length}let t={..._};if(t={...t,[i]:t[i]-1||0,[`select_${m}`]:"",[`res_${s}_${r}`]:parseInt((t[i]-1||0)*100/a)},r==0){let p=u.length;for(let d=1;d<p;d++)a+=u[d].inputs.length,t={...t,[`sum_${s}_${d}`]:t[i]||0,[`res_${s}_${d}`]:Math.round((t[i]||0)*100/a)};c(t);return}c(t);return}let l=o.target.value.split("-")[0],g=o.target.value.split("-")[1],e=l.split("_")[1],n=g.split("_")[1];if(r=l.split("_")[2],a=u[r].inputs.length,f({...D,[o.target.name]:l}),_[i]>0){if(s=i.split("_")[1],r>0){a=0;for(let p=0;p<=r;p++)a+=u[p].inputs.length}let t={..._};if(_[`sum_${e}_0`]&&s==e){t={...t,[`sum_${e}_${r}`]:t[l]+1||1,[g]:o.target.value,[`au_${n}`]:0,[`or_${n}`]:0,[`rt_${n}`]:0,[`rc_${n}`]:0,[`${e}_${n}`]:1,[`res_${e}_${r}`]:Math.round((t[l]+1||1)*100/a)},c(t);return}t={...t,[l]:t[l]+1||1,[i]:t[i]-1||0,[g]:o.target.value,[`au_${n}`]:0,[`or_${n}`]:0,[`rt_${n}`]:0,[`rc_${n}`]:0,[`${e}_${n}`]:1,[`res_${e}_${r}`]:Math.round((t[l]+1||1)*100/a),[`res_${s}_${r}`]:Math.round((t[i]-1||0)*100/a)},c(t);return}if(r>0){a=0;for(let t=0;t<=r;t++)a+=u[t].inputs.length}let $={..._};if($={...$,[`sum_${e}_${r}`]:$[l]+1||1,[g]:o.target.value,[`au_${n}`]:0,[`or_${n}`]:0,[`rt_${n}`]:0,[`rc_${n}`]:0,[`${e}_${n}`]:1,[`res_${e}_${r}`]:Math.round(($[l]+1||1)*100/a)},r==0){let t=u.length;console.log(a);for(let p=1;p<t;p++)a+=u[p].inputs.length,$={...$,[`sum_${e}_${p}`]:$[[`sum_${e}_${p}`]]+1||1,[`res_${e}_${p}`]:Math.round(($[[`sum_${e}_${p}`]]+1||1)*100/a)};c($);return}c($)}else c({..._,[o.target.name]:o.target.value})},handleInputSelect:o=>{console.clear();let a=o.target.name.split("_")[o.target.name.split("_").length-1],s=o.target.name.split("_")[o.target.name.split("_").length-2],r=o.target.name.split("_")[o.target.name.split("_").length-3],i=[],m=0,l=u[s].inputs.length;_[`ev_${s}`]?(i.push(..._[`ev_${s}`]),i[a]=o.target.value,c({..._,[`ev_${s}`]:i})):(c({..._,[`ev_${s}`]:[o.target.value]}),i[a]=o.target.value);for(let e=0;e<i.length;e++)i[e]||(i[e]="0");if(i.map(e=>{m+=parseInt(e)||0}),s>0){l=0;for(let e=0;e<=s;e++)l+=u[e].inputs.length}if(_.sum_ev_0&&s==1){console.warn("Exist"),m+=_.sum_ev_0;let e={..._};console.log(l*4),e={...e,[`ev_${s}`]:i,[`ev_${r}`]:o.target.value,[`sum_ev_${s}`]:m,[`res_ev_${s}`]:Math.round(m*100/(l*4))},c(e);return}let g={..._};if(g={...g,[`ev_${s}`]:i,[`ev_${r}`]:o.target.value,[`sum_ev_${s}`]:m,[`res_ev_${s}`]:Math.round(m*100/(l*4))},s==0){let e=u.length;for(let n=1;n<e;n++)l+=u[n].inputs.length,console.log(m),g={...g,[`ev_${r}`]:o.target.value,[`sum_ev_${n}`]:m,[`res_ev_${n}`]:Math.round(m*100/(l*4))};c(g);return}c(g)}})};export{L as default};
