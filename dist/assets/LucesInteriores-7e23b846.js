import{r as f,M as C,a as F,F as y}from"./index-39e09190.js";import{C as j}from"./ContainerForm-777b056e.js";const D=[{routeSection:"interiores",nameSection:"Interiores",nameForm:"Luces Interiores",nextSection:"Tapicerias y Alfombrados",prevSection:"Domo Trasero y/o Cajuela ",nextRoute:"tapiceriasAlfombrados",prevRoute:"domoTraseroCajuela"}],c=[{name:"",inputs:[{label:"Estado",nameElement:"estado"},{label:"Unidades",nameElement:"unidades"},{label:"Cableados y Conectores",nameElement:"cableadosConectores"},{label:"Sujeciones",nameElement:"sujeciones"}]}],Q=()=>{const[_,m]=f.useState({select_estado:"",select_unidades:"",select_cableadosConectores:"",select_sujeciones:"",au_estado:"0",or_estado:"0",rt_estado:"0",rc_estado:"0",ev_estado:"0",observaciones_estado:" ",au_unidades:"0",or_unidades:"0",rt_unidades:"0",rc_unidades:"0",ev_unidades:"0",observaciones_unidades:" ",au_cableadosConectores:"0",or_cableadosConectores:"0",rt_cableadosConectores:"0",rc_cableadosConectores:"0",ev_cableadosConectores:"0",observaciones_cableadosConectores:" ",au_sujeciones:"0",or_sujeciones:"0",rt_sujeciones:"0",rc_sujeciones:"0",ev_sujeciones:"0",observaciones_sujeciones:" "}),[h,b]=f.useState({}),{dataDictamen:v}=f.useContext(C);return f.useEffect(()=>{v&&v.interiores&&v.interiores.interiores_luces_interiores&&m({..._,...v.interiores.interiores_luces_interiores})},[]),F(j,{handleForm:a=>{a.preventDefault();const s=y.getInstance();s.setData(_),s.guardarInterioresLucesInteriores()},data:D,inputs:c,handleInput:a=>{let s;if(a.target.localName=="ion-select")return;let n,r;if(a.target.localName!="ion-input"){let o=h[a.target.name],d=a.target.name.split("_")[1];if(!a.target.value){if(n=o.split("_")[1],r=o.split("_")[2],s=c[r].inputs.length,r>0){s=0;for(let u=0;u<=r;u++)s+=c[u].inputs.length}let t={..._};if(t={...t,[o]:t[o]-1||0,[`select_${d}`]:"",[`res_${n}_${r}`]:parseInt((t[o]-1||0)*100/s)},r==0){let u=c.length;for(let g=1;g<u;g++)s+=c[g].inputs.length,t={...t,[`sum_${n}_${g}`]:t[o]||0,[`res_${n}_${g}`]:Math.round((t[o]||0)*100/s)};m(t);return}m(t);return}let i=a.target.value.split("-")[0],$=a.target.value.split("-")[1],e=i.split("_")[1],l=$.split("_")[1];if(r=i.split("_")[2],s=c[r].inputs.length,b({...h,[a.target.name]:i}),_[o]>0){if(n=o.split("_")[1],r>0){s=0;for(let u=0;u<=r;u++)s+=c[u].inputs.length}let t={..._};if(_[`sum_${e}_0`]&&n==e){t={...t,[`sum_${e}_${r}`]:t[i]+1||1,[$]:a.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${r}`]:Math.round((t[i]+1||1)*100/s)},m(t);return}t={...t,[i]:t[i]+1||1,[o]:t[o]-1||0,[$]:a.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${r}`]:Math.round((t[i]+1||1)*100/s),[`res_${n}_${r}`]:Math.round((t[o]-1||0)*100/s)},m(t);return}if(r>0){s=0;for(let t=0;t<=r;t++)s+=c[t].inputs.length}let p={..._};if(p={...p,[`sum_${e}_${r}`]:p[i]+1||1,[$]:a.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${r}`]:Math.round((p[i]+1||1)*100/s)},r==0){let t=c.length;console.log(s);for(let u=1;u<t;u++)s+=c[u].inputs.length,p={...p,[`sum_${e}_${u}`]:p[[`sum_${e}_${u}`]]+1||1,[`res_${e}_${u}`]:Math.round((p[[`sum_${e}_${u}`]]+1||1)*100/s)};m(p);return}m(p)}else m({..._,[a.target.name]:a.target.value})},dataForm:_,handleInputSelect:a=>{console.clear();let s=a.target.name.split("_")[a.target.name.split("_").length-1],n=a.target.name.split("_")[a.target.name.split("_").length-2],r=a.target.name.split("_")[a.target.name.split("_").length-3],o=[],d=0,i=c[n].inputs.length;_[`ev_${n}`]?(o.push(..._[`ev_${n}`]),o[s]=a.target.value,m({..._,[`ev_${n}`]:o})):(m({..._,[`ev_${n}`]:[a.target.value]}),o[s]=a.target.value);for(let e=0;e<o.length;e++)o[e]||(o[e]="0");if(o.map(e=>{d+=parseInt(e)||0}),n>0){i=0;for(let e=0;e<=n;e++)i+=c[e].inputs.length}if(_.sum_ev_0&&n==1){console.warn("Exist"),d+=_.sum_ev_0;let e={..._};console.log(i*4),e={...e,[`ev_${n}`]:o,[`ev_${r}`]:a.target.value,[`sum_ev_${n}`]:d,[`res_ev_${n}`]:Math.round(d*100/(i*4))},m(e);return}let $={..._};if($={...$,[`ev_${n}`]:o,[`ev_${r}`]:a.target.value,[`sum_ev_${n}`]:d,[`res_ev_${n}`]:Math.round(d*100/(i*4))},n==0){let e=c.length;for(let l=1;l<e;l++)i+=c[l].inputs.length,console.log(d),$={...$,[`ev_${r}`]:a.target.value,[`sum_ev_${l}`]:d,[`res_ev_${l}`]:Math.round(d*100/(i*4))};m($);return}m($)}})};export{Q as default};
