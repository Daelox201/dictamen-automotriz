import{r as d,M as E,a as h,F as y}from"./index-39e09190.js";import{C as D}from"./ContainerForm-777b056e.js";const x=[{routeSection:"sistemasMotor",nameSection:"Sistemas Alternos de Motor",nameForm:"Sistemas de Inyección de Combustible",nextSection:"Sistema Evaporativo",prevSection:"Sistema de Encendido o Ignicion",nextRoute:"sistemaEvaporativo",prevRoute:"sistemaEncendidoIgnicion"}],_=[{name:"",inputs:[{label:"Carburador",nameElement:"carburador"},{label:"Filtro de Combustible",nameElement:"filtroCombustible"},{label:"Tanque de Combustible",nameElement:"tanqueCombustible"},{label:"Bomba de combustible",nameElement:"bombaCombustible"},{label:"Mangueras y Ductos",nameElement:"mangueraDuctos"},{label:"Cableados y Conectores",nameElement:"cableadosConectores"},{label:"ConexionesEE",nameElement:"conexionesEE"},{label:"Fugas",nameElement:"fugas"},{label:"Soportes",nameElement:"soportes"},{label:"Sujeciones",nameElement:"sujeciones"}]},{name:"Con Control Electroico",inputs:[{label:"Cuerpo de Aceleración",nameElement:"cuerpoAceleracion"},{label:"Inyectores",nameElement:"inyectores"}]}],A=()=>{const[u,m]=d.useState({select_carburador:"",select_filtroCombustible:"",select_tanqueCombustible:"",select_bombaCombustible:"",select_mangueraDuctos:"",select_cableadosConectores:"",select_conexionesEE:"",select_fugas:"",select_sujeciones:"",select_cuerpoAceleracion:"",select_inyectores:"",select_soportes:"",au_carburador:0,or_carburador:0,rt_carburador:0,rc_carburador:0,ev_carburador:0,observaciones_carburador:"",au_filtroCombustible:0,or_filtroCombustible:0,rt_filtroCombustible:0,rc_filtroCombustible:0,ev_filtroCombustible:0,observaciones_filtroCombustible:"",au_tanqueCombustible:0,or_tanqueCombustible:0,rt_tanqueCombustible:0,rc_tanqueCombustible:0,ev_tanqueCombustible:0,observaciones_tanqueCombustible:"",au_bombaCombustible:0,or_bombaCombustible:0,rt_bombaCombustible:0,rc_bombaCombustible:0,ev_bombaCombustible:0,observaciones_bombaCombustible:"",au_mangueraDuctos:0,or_mangueraDuctos:0,rt_mangueraDuctos:0,rc_mangueraDuctos:0,ev_mangueraDuctos:0,observaciones_mangueraDuctos:"",au_cableadosConectores:0,or_cableadosConectores:0,rt_cableadosConectores:0,rc_cableadosConectores:0,ev_cableadosConectores:0,observaciones_cableadosConectores:"",au_conexionesEE:0,or_conexionesEE:0,rt_conexionesEE:0,rc_conexionesEE:0,ev_conexionesEE:0,observaciones_conexionesEE:"",au_fugas:0,or_fugas:0,rt_fugas:0,rc_fugas:0,ev_fugas:0,observaciones_fugas:"",au_sujeciones:0,or_sujeciones:0,rt_sujeciones:0,rc_sujeciones:0,ev_sujeciones:0,observaciones_sujeciones:"",au_cuerpoAceleracion:0,or_cuerpoAceleracion:0,rt_cuerpoAceleracion:0,rc_cuerpoAceleracion:0,ev_cuerpoAceleracion:0,observaciones_cuerpoAceleracion:"",au_inyectores:0,or_inyectores:0,rt_inyectores:0,rc_inyectores:0,ev_inyectores:0,observaciones_inyectores:"",au_soportes:0,or_soportes:0,rt_soportes:0,rc_soportes:0,ev_soportes:0,observaciones_soportes:""}),[C,f]=d.useState({}),{dataDictamen:$}=d.useContext(E);return d.useEffect(()=>{$&&$.sistemas_motor&&$.sistemas_motor.sistema_inyeccion_combustible&&m({...u,...$.sistemas_motor.sistema_inyeccion_combustible})},[]),h(D,{data:x,handleForm:o=>{o.preventDefault();const a=y.getInstance();a.setData(u),a.guardarSistemaInyeccionCombustible()},inputs:_,dataForm:u,handleInput:o=>{let a;if(o.target.localName=="ion-select")return;let s,r;if(o.target.localName!="ion-input"){let n=C[o.target.name],b=o.target.name.split("_")[1];if(!o.target.value){if(s=n.split("_")[1],r=n.split("_")[2],a=_[r].inputs.length,r>0){a=0;for(let c=0;c<=r;c++)a+=_[c].inputs.length}let t={...u};if(t={...t,[n]:t[n]-1||0,[`select_${b}`]:"",[`res_${s}_${r}`]:parseInt((t[n]-1||0)*100/a)},r==0){let c=_.length;for(let v=1;v<c;v++)a+=_[v].inputs.length,t={...t,[`sum_${s}_${v}`]:t[n]||0,[`res_${s}_${v}`]:Math.round((t[n]||0)*100/a)};m(t);return}m(t);return}let i=o.target.value.split("-")[0],p=o.target.value.split("-")[1],e=i.split("_")[1],l=p.split("_")[1];if(r=i.split("_")[2],a=_[r].inputs.length,f({...C,[o.target.name]:i}),u[n]>0){if(s=n.split("_")[1],r>0){a=0;for(let c=0;c<=r;c++)a+=_[c].inputs.length}let t={...u};if(u[`sum_${e}_0`]&&s==e){t={...t,[`sum_${e}_${r}`]:t[i]+1||1,[p]:o.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${r}`]:Math.round((t[i]+1||1)*100/a)},m(t);return}t={...t,[i]:t[i]+1||1,[n]:t[n]-1||0,[p]:o.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${r}`]:Math.round((t[i]+1||1)*100/a),[`res_${s}_${r}`]:Math.round((t[n]-1||0)*100/a)},m(t);return}if(r>0){a=0;for(let t=0;t<=r;t++)a+=_[t].inputs.length}let g={...u};if(g={...g,[`sum_${e}_${r}`]:g[i]+1||1,[p]:o.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${r}`]:Math.round((g[i]+1||1)*100/a)},r==0){let t=_.length;console.log(a);for(let c=1;c<t;c++)a+=_[c].inputs.length,g={...g,[`sum_${e}_${c}`]:g[[`sum_${e}_${c}`]]+1||1,[`res_${e}_${c}`]:Math.round((g[[`sum_${e}_${c}`]]+1||1)*100/a)};m(g);return}m(g)}else m({...u,[o.target.name]:o.target.value})},handleInputSelect:o=>{console.clear();let a=o.target.name.split("_")[o.target.name.split("_").length-1],s=o.target.name.split("_")[o.target.name.split("_").length-2],r=o.target.name.split("_")[o.target.name.split("_").length-3],n=[],b=0,i=_[s].inputs.length;u[`ev_${s}`]?(n.push(...u[`ev_${s}`]),n[a]=o.target.value,m({...u,[`ev_${s}`]:n})):(m({...u,[`ev_${s}`]:[o.target.value]}),n[a]=o.target.value);for(let e=0;e<n.length;e++)n[e]||(n[e]="0");if(n.map(e=>{b+=parseInt(e)||0}),s>0){i=0;for(let e=0;e<=s;e++)i+=_[e].inputs.length}if(u.sum_ev_0&&s==1){console.warn("Exist"),b+=u.sum_ev_0;let e={...u};console.log(i*4),e={...e,[`ev_${s}`]:n,[`ev_${r}`]:o.target.value,[`sum_ev_${s}`]:b,[`res_ev_${s}`]:Math.round(b*100/(i*4))},m(e);return}let p={...u};if(p={...p,[`ev_${s}`]:n,[`ev_${r}`]:o.target.value,[`sum_ev_${s}`]:b,[`res_ev_${s}`]:Math.round(b*100/(i*4))},s==0){let e=_.length;for(let l=1;l<e;l++)i+=_[l].inputs.length,console.log(b),p={...p,[`ev_${r}`]:o.target.value,[`sum_ev_${l}`]:b,[`res_ev_${l}`]:Math.round(b*100/(i*4))};m(p);return}m(p)}})};export{A as default};
