import{r as g,M as E,a as I,F as C}from"./index-39e09190.js";import{C as F}from"./ContainerForm-777b056e.js";const y=[{routeSection:"interiores",nameSection:"Interiores",nameForm:"Asientos",nextSection:"Tablero",prevSection:"",nextRoute:"tablero",prevRoute:""}],u=[{name:"",inputs:[{label:"Estado",nameElement:"estado"},{label:"Piloto",nameElement:"piloto"},{label:"Co-piloto",nameElement:"copiloto"},{label:"Butaca Intermedia",nameElement:"butacaIntermedia"},{label:"Butaca Trasera",nameElement:"butacaTrasera"},{label:"Reposabrazos",nameElement:"reposabrazos"},{label:"Cabeceras",nameElement:"cabeceras"},{label:"Control de Asientos",nameElement:"controlAsientos"},{label:"Molduras",nameElement:"molduras"},{label:"Sujeciones",nameElement:"sujeciones"},{label:"Cableados y Conectores",nameElement:"cableadosConectores"},{label:"Otros",nameElement:"otros"}]}],S=()=>{const[c,m]=g.useState({select_estado:"",select_piloto:"",select_copiloto:"",select_butacaIntermedia:"",select_butacaTrasera:"",select_reposabrazos:"",select_cabeceras:"",select_controlAsientos:"",select_molduras:"",select_sujeciones:"",select_cableadosConectores:"",select_otros:"",au_estado:"0",or_estado:"0",rt_estado:"0",rc_estado:"0",ev_estado:"0",observaciones_estado:"",au_piloto:"0",or_piloto:"0",rt_piloto:"0",rc_piloto:"0",ev_piloto:"0",observaciones_piloto:"",au_copiloto:"0",or_copiloto:"0",rt_copiloto:"0",rc_copiloto:"0",ev_copiloto:"0",observaciones_copiloto:"",au_butacaIntermedia:"0",or_butacaIntermedia:"0",rt_butacaIntermedia:"0",rc_butacaIntermedia:"0",ev_butacaIntermedia:"0",observaciones_butacaIntermedia:"",au_butacaTrasera:"0",or_butacaTrasera:"0",rt_butacaTrasera:"0",rc_butacaTrasera:"0",ev_butacaTrasera:"0",observaciones_butacaTrasera:"",au_reposabrazos:"0",or_reposabrazos:"0",rt_reposabrazos:"0",rc_reposabrazos:"0",ev_reposabrazos:"0",observaciones_reposabrazos:"",au_cabeceras:"0",or_cabeceras:"0",rt_cabeceras:"0",rc_cabeceras:"0",ev_cabeceras:"0",observaciones_cabeceras:"",au_controlAsientos:"0",or_controlAsientos:"0",rt_controlAsientos:"0",rc_controlAsientos:"0",ev_controlAsientos:"0",observaciones_controlAsientos:"",au_molduras:"0",or_molduras:"0",rt_molduras:"0",rc_molduras:"0",ev_molduras:"0",observaciones_molduras:"",au_sujeciones:"0",or_sujeciones:"0",rt_sujeciones:"0",rc_sujeciones:"0",ev_sujeciones:"0",observaciones_sujeciones:"",au_cableadosConectores:"0",or_cableadosConectores:"0",rt_cableadosConectores:"0",rc_cableadosConectores:"0",ev_cableadosConectores:"0",observaciones_cableadosConectores:"",au_otros:"",or_otros:"",rt_otros:"",rc_otros:"",ev_otros:"",observaciones_otros:""}),[h,f]=g.useState({}),{dataDictamen:$}=g.useContext(E);return g.useEffect(()=>{$&&$.interiores&&$.interiores.interiores_asientos&&m({...c,...$.interiores.interiores_asientos})},[]),I(F,{handleForm:a=>{a.preventDefault();const o=C.getInstance();o.setData(c),o.guardarInterioresAsientos()},data:y,inputs:u,handleInput:a=>{let o;if(a.target.localName=="ion-select")return;let r,s;if(a.target.localName!="ion-input"){let n=h[a.target.name],p=a.target.name.split("_")[1];if(!a.target.value){if(r=n.split("_")[1],s=n.split("_")[2],o=u[s].inputs.length,s>0){o=0;for(let i=0;i<=s;i++)o+=u[i].inputs.length}let t={...c};if(t={...t,[n]:t[n]-1||0,[`select_${p}`]:"",[`res_${r}_${s}`]:parseInt((t[n]-1||0)*100/o)},s==0){let i=u.length;for(let v=1;v<i;v++)o+=u[v].inputs.length,t={...t,[`sum_${r}_${v}`]:t[n]||0,[`res_${r}_${v}`]:Math.round((t[n]||0)*100/o)};m(t);return}m(t);return}let _=a.target.value.split("-")[0],b=a.target.value.split("-")[1],e=_.split("_")[1],l=b.split("_")[1];if(s=_.split("_")[2],o=u[s].inputs.length,f({...h,[a.target.name]:_}),c[n]>0){if(r=n.split("_")[1],s>0){o=0;for(let i=0;i<=s;i++)o+=u[i].inputs.length}let t={...c};if(c[`sum_${e}_0`]&&r==e){t={...t,[`sum_${e}_${s}`]:t[_]+1||1,[b]:a.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${s}`]:Math.round((t[_]+1||1)*100/o)},m(t);return}t={...t,[_]:t[_]+1||1,[n]:t[n]-1||0,[b]:a.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${s}`]:Math.round((t[_]+1||1)*100/o),[`res_${r}_${s}`]:Math.round((t[n]-1||0)*100/o)},m(t);return}if(s>0){o=0;for(let t=0;t<=s;t++)o+=u[t].inputs.length}let d={...c};if(d={...d,[`sum_${e}_${s}`]:d[_]+1||1,[b]:a.target.value,[`au_${l}`]:0,[`or_${l}`]:0,[`rt_${l}`]:0,[`rc_${l}`]:0,[`${e}_${l}`]:1,[`res_${e}_${s}`]:Math.round((d[_]+1||1)*100/o)},s==0){let t=u.length;console.log(o);for(let i=1;i<t;i++)o+=u[i].inputs.length,d={...d,[`sum_${e}_${i}`]:d[[`sum_${e}_${i}`]]+1||1,[`res_${e}_${i}`]:Math.round((d[[`sum_${e}_${i}`]]+1||1)*100/o)};m(d);return}m(d)}else m({...c,[a.target.name]:a.target.value})},dataForm:c,handleInputSelect:a=>{console.clear();let o=a.target.name.split("_")[a.target.name.split("_").length-1],r=a.target.name.split("_")[a.target.name.split("_").length-2],s=a.target.name.split("_")[a.target.name.split("_").length-3],n=[],p=0,_=u[r].inputs.length;c[`ev_${r}`]?(n.push(...c[`ev_${r}`]),n[o]=a.target.value,m({...c,[`ev_${r}`]:n})):(m({...c,[`ev_${r}`]:[a.target.value]}),n[o]=a.target.value);for(let e=0;e<n.length;e++)n[e]||(n[e]="0");if(n.map(e=>{p+=parseInt(e)||0}),r>0){_=0;for(let e=0;e<=r;e++)_+=u[e].inputs.length}if(c.sum_ev_0&&r==1){console.warn("Exist"),p+=c.sum_ev_0;let e={...c};console.log(_*4),e={...e,[`ev_${r}`]:n,[`ev_${s}`]:a.target.value,[`sum_ev_${r}`]:p,[`res_ev_${r}`]:Math.round(p*100/(_*4))},m(e);return}let b={...c};if(b={...b,[`ev_${r}`]:n,[`ev_${s}`]:a.target.value,[`sum_ev_${r}`]:p,[`res_ev_${r}`]:Math.round(p*100/(_*4))},r==0){let e=u.length;for(let l=1;l<e;l++)_+=u[l].inputs.length,console.log(p),b={...b,[`ev_${s}`]:a.target.value,[`sum_ev_${l}`]:p,[`res_ev_${l}`]:Math.round(p*100/(_*4))};m(b);return}m(b)}})};export{S as default};
